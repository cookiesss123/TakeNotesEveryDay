import{_ as S,R as V,m as L,r as p,o as f,c as N,d as e,e as t,w as b,t as C,p as l,g as w,A as _,f as v,h as y,i as r,j as U}from"./index-02552bde.js";import{f as B,e as x,r as P,d as G,s as q,g as E,a as A}from"./utilities-15c9400c.js";const D={data(){return{page:"登入",userSignup:{nickName:"",email:"",password:"",confirmPassword:"",headshotImg:""},userLogin:{email:"",password:""}}},components:{RouterLink:V},methods:{...L(A,["goToTop"]),async signUp(){const m=this.userSignup.email,i=this.userSignup.password;try{const n=(await B(x,m,i)).user,s=P(G,"users/"+n.uid);q(s,{email:m,nickName:this.userSignup.nickName,headshotImg:this.userSignup.headshotImg}),this.$swal({icon:"success",title:"註冊成功",showConfirmButton:!1,timer:1500}),this.$router.push("/home")}catch{this.$swal({icon:"error",title:"此信箱已被註冊，請更換信箱",showConfirmButton:!1,timer:1500})}},async login(){const m=this.userLogin.email,i=this.userLogin.password;try{const n=(await E(x,m,i)).user;this.$swal({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1500}),n&&this.$router.push("/home")}catch(u){let n="密碼錯誤";u.message==="Firebase: Error (auth/user-not-found)."&&(n="查無此帳號"),this.$swal({icon:"error",title:n,showConfirmButton:!1,timer:1500})}}},mounted(){this.goToTop()},watch:{page(){this.page==="登入"?this.userSignup={nickName:"",email:"",password:"",confirmPassword:"",headshotImg:""}:this.page==="註冊"&&(this.userLogin={email:"",password:""})}}},M={"data-aos":"fade-up","data-aos-duration":"1000",class:"mt-5 d-flex align-items-center bg-white overflow-x-hidden"},T={class:"container py-lg-7 py-5"},j={"aria-label":"breadcrumb"},F={class:"breadcrumb"},I={class:"breadcrumb-item fs-5"},R={class:"breadcrumb-item active fs-5 d-none d-lg-block","aria-current":"page"},H={class:"row mt-3 gx-5 rounded py-3"},W=y('<div class="col d-none d-lg-block"><div class="card border-0 h-100 text-white rounded-20"><img src="https://images.unsplash.com/photo-1595113316349-9fa4eb24f884?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1172&amp;q=80" class="card-img h-100 object-fit-cover rounded-20" alt="白紙"><div class="card-img-overlay d-flex align-items-center justify-content-center"><h2 class="card-title text-dark"> 快速紀錄 <span class="text-primary"> 重要事項 </span></h2></div></div></div>',1),z={class:"col"},Y={class:"card-login-signup card h-100 rounded-20"},J={class:"card-body p-0"},K={class:"card-header bg-white py-0 rounded-top-20"},O={class:"row mx-n3"},Q=y('<h2 class="text-primary text-center h3 mt-4"> 歡迎來到 <div class="d-flex align-items-center mt-2 justify-content-center"><img src="'+U+'" class="me-2" alt="logo" style="width:40px;height:40px;"><div class="text-primary"><p class="fs-5 fw-bold mb-0 text-start">記錄每一天</p><p class="fs-6 fw-bold mb-0 text-start">Take Notes Every Day</p></div></div></h2>',1),X={class:"row gy-5 d-flex text-gray"},Z={class:"col-12 fs-5"},$=e("i",{class:"bi bi-envelope-fill"},null,-1),ee={class:"col-12 fs-5"},se=e("i",{class:"bi bi-lock-fill"},null,-1),oe=e("div",{class:"col-12 mt-9"},[e("button",{type:"submit",class:"btn btn-primary w-100"},"登入")],-1),ie={class:"row gy-4 d-flex text-gray"},le={class:"col-12 fs-5"},te=e("i",{class:"bi bi-person-circle"},null,-1),ae={class:"col-12 fs-5"},ne=e("i",{class:"bi bi-envelope-fill"},null,-1),re={class:"col-12 fs-5"},de=e("i",{class:"bi bi-unlock-fill"},null,-1),ce={class:"col-12 fs-5"},me=e("i",{class:"bi bi-lock-fill"},null,-1),ue=e("div",{class:"col-12"},[e("button",{type:"submit",class:"btn btn-primary w-100 text-white"},"註冊")],-1);function pe(m,i,u,n,s,g){const k=p("RouterLink"),d=p("VField"),c=p("ErrorMessage"),h=p("VForm");return f(),N("main",M,[e("div",T,[e("nav",j,[e("ol",F,[e("li",I,[t(k,{to:"/home",class:"link-primary d-none d-lg-block"},{default:b(()=>[r("首頁")]),_:1})]),e("li",R,C(s.page),1)])]),e("div",H,[W,e("div",z,[e("div",Y,[e("div",J,[e("div",K,[e("div",O,[e("h2",{class:l(["col h5 mb-0 text-center py-3 position-relative rounded-left-20",{"bg-primary":s.page==="登入"}])},[e("a",{href:"#",class:l(["stretched-link text-decoration-none fw-bold text-primary",{"text-white":s.page==="登入","pointer-events-none":s.page==="登入"}]),onClick:i[0]||(i[0]=w(o=>s.page="登入",["prevent"]))},"登入",2)],2),e("h2",{class:l(["col h5 mb-0 text-center py-3 position-relative rounded-right-20",{"bg-primary":s.page==="註冊"}])},[e("a",{href:"#",class:l(["stretched-link text-decoration-none fw-bold text-primary",{"text-white":s.page==="註冊","pointer-events-none":s.page==="註冊"}]),onClick:i[1]||(i[1]=w(o=>s.page="註冊",["prevent"]))},"註冊",2)],2)])]),Q,s.page==="登入"?(f(),_(h,{key:0,class:"mx-5 card-body my-3",onSubmit:g.login},{default:b(({errors:o})=>[e("div",X,[e("div",Z,[e("label",{for:"email",class:l(["form-label",{"text-blueGreen":s.userLogin.email&&!o.信箱}])},[$,r(" 信箱")],2),t(d,{id:"email",name:"信箱",type:"email",class:l(["form-control border-0 border-bottom",{"is-invalid":o.信箱,"is-valid":s.userLogin.email&&!o.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:s.userLogin.email,"onUpdate:modelValue":i[2]||(i[2]=a=>s.userLogin.email=a),autocomplete:"email"},null,8,["class","modelValue"]),t(c,{name:"信箱",class:"invalid-feedback"})]),e("div",ee,[e("label",{for:"password",class:l(["form-label",{"text-blueGreen":s.userLogin.password&&!o.密碼}])},[se,r(" 密碼")],2),t(d,{id:"password",name:"密碼",type:"password",class:l(["form-control border-0 border-bottom",{"is-invalid":o.密碼,"is-valid":!o.密碼&&s.userLogin.password}]),placeholder:"請輸入您的密碼",rules:"min:6|required",modelValue:s.userLogin.password,"onUpdate:modelValue":i[3]||(i[3]=a=>s.userLogin.password=a),autocomplete:"current-password"},null,8,["class","modelValue"]),t(c,{name:"密碼",class:"invalid-feedback"})]),oe])]),_:1},8,["onSubmit"])):v("",!0),s.page==="註冊"?(f(),_(h,{key:1,class:"mx-5 card-body my-3",onSubmit:g.signUp},{default:b(({errors:o})=>[e("div",ie,[e("div",le,[e("label",{for:"nickName",class:l(["form-label",{"text-blueGreen":s.userSignup.nickName&&!o.暱稱}])},[te,r(" 暱稱")],2),t(d,{id:"nickName",name:"暱稱",type:"text",class:l(["form-control border-0 border-bottom",{"is-invalid":o.暱稱,"is-valid":s.userSignup.nickName&&!o.暱稱}]),placeholder:"請輸入您的暱稱",rules:"required|max:10",modelValue:s.userSignup.nickName,"onUpdate:modelValue":i[4]||(i[4]=a=>s.userSignup.nickName=a)},null,8,["class","modelValue"]),t(c,{name:"暱稱",class:"invalid-feedback"})]),e("div",ae,[e("label",{for:"email",class:l(["form-label",{"text-blueGreen":s.userSignup.email&&!o.信箱}])},[ne,r(" 信箱")],2),t(d,{id:"email",name:"信箱",type:"email",class:l(["form-control border-0 border-bottom",{"is-invalid":o.信箱,"is-valid":s.userSignup.email&&!o.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:s.userSignup.email,"onUpdate:modelValue":i[5]||(i[5]=a=>s.userSignup.email=a),autocomplete:"email"},null,8,["class","modelValue"]),t(c,{name:"信箱",class:"invalid-feedback"})]),e("div",re,[e("label",{for:"password",class:l(["form-label",{"text-blueGreen":s.userSignup.password&&!o.密碼}])},[de,r(" 密碼")],2),t(d,{id:"password",name:"密碼",type:"password",class:l(["form-control border-0 border-bottom",{"is-invalid":o.密碼,"is-valid":!o.密碼&&s.userSignup.password}]),placeholder:"請輸入密碼",rules:"required|min:6",modelValue:s.userSignup.password,"onUpdate:modelValue":i[6]||(i[6]=a=>s.userSignup.password=a),autocomplete:"new-password"},null,8,["class","modelValue"]),t(c,{name:"密碼",class:"invalid-feedback"})]),e("div",ce,[e("label",{for:"confirmPassword",class:l(["form-label",{"text-blueGreen":s.userSignup.confirmPassword&&!o.確認密碼}])},[me,r(" 確認密碼")],2),t(d,{id:"confirmPassword",name:"確認密碼",type:"password",class:l(["form-control border-0 border-bottom",{"is-invalid":o.確認密碼,"is-valid":!o.確認密碼&&s.userSignup.confirmPassword}]),placeholder:"請再次輸入密碼",rules:"required|confirmed:@密碼",modelValue:s.userSignup.confirmPassword,"onUpdate:modelValue":i[7]||(i[7]=a=>s.userSignup.confirmPassword=a),autocomplete:"new-password"},null,8,["class","modelValue"]),t(c,{name:"確認密碼",class:"invalid-feedback"})]),ue])]),_:1},8,["onSubmit"])):v("",!0)])])])])])])}const ge=S(D,[["render",pe]]);export{ge as default};
