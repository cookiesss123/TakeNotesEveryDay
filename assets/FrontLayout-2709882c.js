import{_ as b,R as x,a as k,m as w,r as h,o as d,c as m,b as e,d as a,w as l,e as g,t as y,f as C,g as I,h as c}from"./index-037d80ef.js";import{o as R,s as V,u as B,r as f,d as _,a as L,b as p}from"./db-a6684dc1.js";import{t as N}from"./todo-fba3e443.js";import{_ as S}from"./icon-0ad36a0f.js";const U={data(){return{uid:"",user:{}}},components:{RouterLink:x,RouterView:k},methods:{...w(N,["toastMessage"]),checkLogin(){R(p,t=>{if(t){this.uid=t.uid;const s=f(_,"users/"+t.uid);L(s,u=>{this.user=u.val()})}else this.uid=null,this.user={}})},logout(){V(p).then(()=>{this.uid="",this.user={},this.$swal({icon:"success",title:"已登出",showConfirmButton:!1,timer:1500}),this.checkLogin(),window.location.href.includes("/home")?location.reload():this.$router.push("/home")}).catch(t=>{console.log(t,"登出錯誤")})},async selectImgUrl(){const{value:t}=await this.$swal({title:"更換大頭貼",input:"text",inputPlaceholder:"請輸入圖片網址",confirmButtonColor:"#62776f",confirmButtonText:"確定",inputAttributes:{accept:"image/*","aria-label":"Upload your profile picture"}});t?(this.$swal({title:"圖片上傳成功",confirmButtonColor:"#62776f",confirmButtonText:"確定",imageUrl:t,imageHeight:300,imageAlt:"Custom image"}),B(f(_),{[`users/${this.uid}/headshotImg/`]:t})):this.toastMessage("請勿輸入空值","error")}},mounted(){this.checkLogin()}},z={class:"d-flex flex-column",style:{"min-height":"100vh"}},A={class:"fixed-top"},T={class:"navbar navbar-expand-lg navbar-dark bg-green"},M={class:"container"},D=e("img",{src:S,class:"me-2",alt:"",style:{width:"40px",height:"40px"}},null,-1),E=e("div",{class:"text-white"},[e("p",{class:"fs-5 fw-bold mb-0 text-start"},"記錄每一天"),e("p",{class:"fs-6 fw-bold mb-0 text-start"},"Take Notes Every Day")],-1),F=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),j={class:"collapse navbar-collapse",id:"navbarSupportedContent"},H={class:"navbar-nav mx-auto d-flex align-items-center fs-5"},O={class:"nav-item"},P={class:"nav-item"},q={class:"nav-item"},G={class:"nav-item"},J={key:0,class:"navbar-nav ms-auto mb-2 mb-lg-0 d-flex align-items-center fs-5"},K={class:"nav-item"},Q={class:"nav-item"},W={key:1,class:"navbar-nav ms-auto mb-2 mb-lg-0 d-flex align-items-center fs-5"},X={class:"nav-item d-flex align-items-center"},Y=["src"],Z={class:"ms-2 text-white"},$={class:"nav-item ms-lg-2"},ee=I('<footer class="bg-green" style="margin-top:auto;"><div class="container d-flex flex-column flex-lg-row align-items-center" style="padding:40px 0;"><div class="ms-lg-auto d-flex flex-column align-items-lg-end align-items-center"><ul id="contactInfo" class="list-unstyled d-flex"><li class="me-4"><a href="#" class="text-decoration-none text-white"><i class="bi bi-instagram me-2" style="font-size:34px;"></i></a></li><li class="me-4"><a href="#" class="text-decoration-none text-white"><i class="bi bi-facebook me-2" style="font-size:34px;"></i></a></li><li><a href="#" class="text-decoration-none text-white"><i class="bi bi-envelope me-2" style="font-size:34px;"></i></a></li></ul><p class="mb-0 text-center text-lg-start text-white" style="font-size:10px;">本網站僅作為網頁製作練習使用<br class="d-block d-lg-none"><span class="d-none d-lg-inline-block">，</span>圖片、資料源自網路，無任何商業利益行為</p><p class="mb-0 text-lg-end text-center text-white" style="font-size:10px;">Copyright © 2022 記錄每一天 All Rights Reserved.</p></div></div></footer>',1);function te(t,s,u,se,o,n){const i=h("RouterLink"),v=h("RouterView");return d(),m("div",z,[e("header",A,[e("nav",T,[e("div",M,[a(i,{to:"/home",class:"navbar-brand d-flex align-items-center"},{default:l(()=>[D,E]),_:1}),F,e("div",j,[e("ul",H,[e("li",O,[a(i,{to:"/home","active-class":"active-link",class:"nav-link fw-bold me-lg-3"},{default:l(()=>[c("首頁")]),_:1})]),e("li",P,[a(i,{to:"/todolist","active-class":"active-link",class:"nav-link fw-bold me-lg-3"},{default:l(()=>[c("清單")]),_:1})]),e("li",q,[a(i,{to:"/calendar","active-class":"active-link",class:"nav-link fw-bold me-lg-3"},{default:l(()=>[c("行事曆")]),_:1})]),e("li",G,[a(i,{to:"/accounting","active-class":"active-link",class:"nav-link fw-bold"},{default:l(()=>[c("記帳")]),_:1})])]),o.uid?o.uid?(d(),m("ul",W,[e("li",X,[o.user.headshotImg?o.user.headshotImg?(d(),m("img",{key:1,onClick:s[1]||(s[1]=(...r)=>n.selectImgUrl&&n.selectImgUrl(...r)),src:o.user.headshotImg,class:"rounded-circle",style:{height:"50px",width:"50px","object-fit":"cover",cursor:"pointer"}},null,8,Y)):g("",!0):(d(),m("i",{key:0,onClick:s[0]||(s[0]=(...r)=>n.selectImgUrl&&n.selectImgUrl(...r)),class:"bi bi-person-circle text-white",style:{"font-size":"47px",cursor:"pointer"}})),e("span",Z,y(o.user.nickName),1)]),e("li",$,[e("a",{href:"#",onClick:s[2]||(s[2]=C((...r)=>n.logout&&n.logout(...r),["prevent"])),class:"nav-link fw-bold"},"登出")])])):g("",!0):(d(),m("ul",J,[e("li",K,[a(i,{to:"/login","active-class":"active-link",class:"nav-link fw-bold me-lg-3"},{default:l(()=>[c("登入")]),_:1})]),e("li",Q,[a(i,{to:"/signup","active-class":"active-link",class:"nav-link fw-bold"},{default:l(()=>[c("註冊")]),_:1})])]))])])])]),a(v),ee])}const ne=b(U,[["render",te]]);export{ne as default};
