import{_ as g,R as v,r as l,o as w,c as y,b as e,d as t,w as m,g as f,h as r,n}from"./index-1b17e09f.js";import{g as k,b as V,r as B,d as C,a as E}from"./db-a6684dc1.js";import{_ as D}from"./icon-0ad36a0f.js";const F={data(){return{user:{email:"",password:""}}},components:{RouterLink:v},methods:{async login(){const p=this.user.email,o=this.user.password;try{const i=(await k(V,p,o)).user;this.$swal({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1500});const s=B(C,"users/"+i.uid);E(s,u=>{this.$router.push("/home")})}catch(d){let i="密碼錯誤";d.message==="Firebase: Error (auth/user-not-found)."&&(i="查無此帳號"),this.$swal({icon:"error",title:i,showConfirmButton:!1,timer:1500})}}},mounted(){}},L={class:"pt-6 d-flex align-items-center bg-white",style:{"overflow-x":"hidden"}},M={class:"container py-lg-7 py-3"},N={"aria-label":"breadcrumb"},R={class:"breadcrumb"},j={class:"breadcrumb-item fs-5"},q=e("li",{class:"breadcrumb-item active fs-5 d-none d-lg-block","aria-current":"page"},"登入",-1),A={class:"row mt-3 gx-5 rounded py-3"},G=f('<div class="col d-none d-lg-block"><div class="card border-0 h-100 text-white" style="border-radius:20px;"><img src="https://images.unsplash.com/photo-1595113316349-9fa4eb24f884?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1172&amp;q=80" class="card-img h-100" alt="..." style="object-fit:cover;border-radius:20px;"><div class="card-img-overlay d-flex align-items-center justify-content-center"><h2 class="card-title text-dark"> 快速紀錄 <span class="text-blueGreen"> 重要事項 </span></h2></div></div></div>',1),H={class:"col"},S={class:"login-card card h-100 border",style:{"border-radius":"20px",padding:"0 !important"}},U={class:"card-body border-0 p-0"},T={class:"card-header bg-white py-0",style:{"border-radius":"20px 20px 0px 0px"}},W={class:"row",style:{margin:"0 -18px"}},z=e("h2",{class:"h5 col mb-0 text-center py-3 position-relative bg-green text-decoration-none fw-bold text-white",style:{"padding-bottom":"10px","border-radius":"20px 0 0 0"}}," 登入 ",-1),I={class:"h5 col mb-0 text-center py-3 position-relative",style:{"padding-bottom":"10px","border-radius":"0 20px 0 0"}},P=f('<h1 class="text-green text-center h3 mt-4"> 歡迎來到 <div class="d-flex align-items-center mt-2 justify-content-center"><img src="'+D+'" class="me-2" alt="" style="width:40px;height:40px;"><div class="text-green"><p class="fs-5 fw-bold mb-0 text-start">記錄每一天</p><p class="fs-6 fw-bold mb-0 text-start">Take Notes Every Day</p></div></div></h1>',1),Y={class:"row gy-5 d-flex"},J={class:"col-12 fs-5"},K=e("i",{class:"bi bi-envelope-fill"},null,-1),O={class:"col-12 fs-5"},Q=e("i",{class:"bi bi-lock-fill"},null,-1),X=e("div",{class:"col-12 mt-9"},[e("button",{type:"submit",class:"btn btn-green w-100"},"登入")],-1);function Z(p,o,d,i,s,u){const _=l("RouterLink"),b=l("VField"),h=l("ErrorMessage"),x=l("VForm");return w(),y("main",L,[e("div",M,[e("nav",N,[e("ol",R,[e("li",j,[t(_,{to:"/home",class:"link-green d-none d-lg-block"},{default:m(()=>[r("首頁")]),_:1})]),q])]),e("div",A,[G,e("div",H,[e("div",S,[e("div",U,[e("div",T,[e("div",W,[z,e("h2",I,[t(_,{to:"/signup",class:"link-dark stretched-link text-decoration-none fw-bold link-green"},{default:m(()=>[r("註冊")]),_:1})])])]),P,t(x,{ref:"form",class:"mx-5 card-body my-3",onSubmit:u.login},{default:m(({errors:a})=>[e("div",Y,[e("div",J,[e("label",{for:"email",class:n(["form-label text-secondary",{"text-green":s.user.email&&!a.信箱}])},[K,r(" 信箱")],2),t(b,{id:"email",name:"信箱",type:"email",class:n(["form-control border-0 border-bottom",{"is-invalid":a.信箱,"is-valid":s.user.email&&!a.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:s.user.email,"onUpdate:modelValue":o[0]||(o[0]=c=>s.user.email=c),autocomplete:"email"},null,8,["class","modelValue"]),t(h,{name:"信箱",class:"invalid-feedback"})]),e("div",O,[e("label",{for:"password",class:n(["form-label text-secondary",{"text-green":s.user.password&&!a.密碼}])},[Q,r(" 密碼")],2),t(b,{id:"password",name:"密碼",type:"password",class:n(["form-control border-0 border-bottom",{"is-invalid":a.密碼,"is-valid":!a.密碼&&s.user.password}]),placeholder:"請輸入您的密碼",rules:"min:6|required",modelValue:s.user.password,"onUpdate:modelValue":o[1]||(o[1]=c=>s.user.password=c),autocomplete:"current-password"},null,8,["class","modelValue"]),t(h,{name:"密碼",class:"invalid-feedback"})]),X])]),_:1},8,["onSubmit"])])])])])])])}const te=g(F,[["render",Z]]);export{te as default};
